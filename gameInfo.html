<!DOCTYPE HTML>
<html>

<body>
  <div id="asdf"></div>
  <div id="woahst">
    choose the weeks to include in the calculation
    <br>

    <form id="qwerty" action='javascript:storageWrite();' method="POST">
      <div id="yearinput">
        <button>click to compute data from different year (oldest year allowed is 2016)</button>
        <br>
      </div>
      <br>
      <input type="checkbox" name="w1" value="true">week 1</input>
      <br>
      <input type="checkbox" name="w2" value="true">week 2</input>
      <br>
      <input type="checkbox" name="w3" value="true">week 3</input>
      <br>
      <input type="checkbox" name="w4" value="true">week 4</input>
      <br>
      <input type="checkbox" name="w5" value="true">week 5</input>
      <br>
      <input type="checkbox" name="w6" value="true">week 6</input>
      <br>
      <br>
      <input type="submit" id='doge' value="enter"></input>
      <br>
    </form>
    <input type='hidden' id='nyet' type='text' value=''>
  </div>

  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script src='main.js'></script>

  <script>

    //if the 'change year' button is pressed, turn it into a text input
    $(document).ready(function () {
      $("button").click(function () {
        $("#yearinput").replaceWith("<input placeholder='put the year here' type='text' name='yearInput'><br>");
      });
    });

    //write form input to sessionStorage, and move to load.html
    function storageWrite() {
      //read form input, put it in array
      var yearNWeeks = start(oof(0), oof(1));
      //check if storage is supported
      var storageq = supports_html5_storage();
      //if not, alert user
      if(storageq == false){
        alert('error');
      }
      //else, store values and proceed to load.html
      else{
        for (var o = 0; o < 7; o++) {
          sessionStorage.setItem('stuff' + o, yearNWeeks[o]);
        }
       window.location.href="load.html";
      }
    }

    //check if sessionStorage is supported
    function supports_html5_storage() {
      try {
        return 'localStorage' in window && window['localStorage'] !== null;
      } catch (e) {
        return false;
      }
    }
  </script>

  </p>
</body>

</html>